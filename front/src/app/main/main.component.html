
    	
		<p-tabView [controlClose]="true" (onClose)="handleClose($event)" (onChange)="handleChange($event)" [activeIndex]="index" styleClass="maxHeight ui-fluid">
			
			<p-tabPanel header="Connections List">

						<p-messages key="mainErrors"></p-messages>
						
						<p-table [value]="connections" [paginator]="true" dataKey="id" [rows]="15" editMode="row" [responsive]="true">
				
						    <ng-template pTemplate="header">
						        <tr>     
									<th>Name</th>
									<th>Host</th>
									<th>Port</th>
						            <th>Username</th>
						            <th>Password</th>
						            <th>Sudo password</th>			            
						            <th>File path</th>
						            <th>Actions</th>
						        </tr>
						    </ng-template>
						    
						    <ng-template pTemplate="body" let-connection let-editing="editing" let-ri="rowIndex">
						        <tr [pEditableRow]="connection">

									<td>
						                <p-cellEditor>
						                    <ng-template pTemplate="input">
						                        <input pInputText type="text" [(ngModel)]="connection.name" required>
						                    </ng-template>
						                    <ng-template pTemplate="output">
						                        {{connection.name}}
						                    </ng-template>
						                </p-cellEditor>
									</td>
									
						            <td>
						                <p-cellEditor>
						                    <ng-template pTemplate="input">
						                        <input pInputText type="text" [(ngModel)]="connection.host" required>
						                    </ng-template>
						                    <ng-template pTemplate="output">
						                        {{connection.host}}
						                    </ng-template>
						                </p-cellEditor>
						            </td>

									<td>
						                <p-cellEditor>
						                    <ng-template pTemplate="input">
												<p-spinner [(ngModel)]="connection.port" [min]="1" [required]="true"></p-spinner>
						                    </ng-template>
						                    <ng-template pTemplate="output">
						                        {{connection.port}}
						                    </ng-template>
						                </p-cellEditor>
						            </td>
						            
						            <td>
						                <p-cellEditor>
						                    <ng-template pTemplate="input">
						                        <input pInputText type="text" [(ngModel)]="connection.username" required>
						                    </ng-template>
						                    <ng-template pTemplate="output">
						                        {{connection.username}}
						                    </ng-template>
						                </p-cellEditor>
						            </td>
						            
						            <td>
						                <p-cellEditor>
						                    <ng-template pTemplate="input">
						                        <input pInputText type="password" [(ngModel)]="connection.password" required>
						                    </ng-template>
						                    <ng-template pTemplate="output">
						                        {{hashPassword(connection.password)}}
						                    </ng-template>
						                </p-cellEditor>
						            </td>
						            
						            <td>
						                <p-cellEditor>
						                    <ng-template pTemplate="input">
						                        <input pInputText type="password" [(ngModel)]="connection.sudoPwd">
						                    </ng-template>
						                    <ng-template pTemplate="output">
						                        {{hashPassword(connection.sudoPwd)}}
						                    </ng-template>
						                </p-cellEditor>
						            </td>
						            
						            <td>
						                <p-cellEditor>
						                    <ng-template pTemplate="input">
						                        <input pInputText type="text" [(ngModel)]="connection.filePath" required>
						                    </ng-template>
						                    <ng-template pTemplate="output">
						                        {{connection.filePath}}
						                    </ng-template>
						                </p-cellEditor>
						            </td>	            
				
						            <td>
										
										<button *ngIf="!editing" pButton type="button" icon="pi pi-sign-in" pTooltip="Connect" tooltipPosition="top" class="ui-button-info"  style="margin-right: .5em" (click)="onRowConnect(connection)"></button>
						            	<button *ngIf="!editing" pButton type="button" pInitEditableRow icon="pi pi-pencil" pTooltip="Edit" tooltipPosition="top"  class="ui-button-warning" style="margin-right: .5em" (click)="onRowEditInit(connection)"></button>
						            	<button *ngIf="!editing" pButton type="button" icon="pi pi-trash" pTooltip="Delete" tooltipPosition="top" class="ui-button-danger"  (click)="onRowDelete(connection)"></button>
						            	
						            	
				                		<button *ngIf="editing" pButton type="button" pSaveEditableRow icon="pi pi-check" pTooltip="Save" tooltipPosition="top" class="ui-button-success" style="margin-right: .5em" (click)="onRowEditSave(connection)"></button>
				                		<button *ngIf="editing" pButton type="button" pCancelEditableRow icon="pi pi-times" pTooltip="Cancel" tooltipPosition="top" class="ui-button-danger" (click)="onRowEditCancel(connection, ri)"></button>
				                
						            </td>			            
						        </tr>
						    </ng-template>
						</p-table>
				
				
				
				
				
				  
		       
		    </p-tabPanel>
		    
		    <p-tabPanel header="Add Connection">
		        <add-form> </add-form>
		    </p-tabPanel>
		    
			
			<p-tabPanel [header]="openConnection.name" *ngFor="let openConnection of openedConnections" [closable]="true">
		        <tail-view [connection]="openConnection"> </tail-view>
		    </p-tabPanel>
		</p-tabView>
    	


<p-confirmDialog header="Confirmation" icon="pi pi-exclamation-triangle"></p-confirmDialog>
		 



